import{I as b,u as B,a as u,F as s,m as t,T as a,e as E,B as d,f as A,H as F,g as $,D as I,h as x,c as z,G as n,s as g,i as w,j as m,k as T,l as j,R as P,n as R,o as H}from"./index.7b3f8e14.js";import{S as W}from"./Alerts.c9612e1b.js";import{P as v}from"./PageHeader.718aea0d.js";function y(e){return b({a:{stroke:"none",viewBox:"0 0 1024 1024"},c:'<path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 0 1 0-96 48.01 48.01 0 0 1 0 96z"></path>'},e)}const i=e=>u(s,A({flexDirection:"column",p:10,borderRadius:10,gap:5,height:"100%"},e,{get children(){return[u(F,{get children(){return[u(a,{fontSize:"$xl",get children(){return e.header}}),t(()=>t(()=>!!e.canClose,!0)()&&u($,{ml:"auto",get onClick(){return e.onClose}}))]}}),u(I,{}),t(()=>e.children)]}})),G=e=>{const r=B("$blackAlpha3","$neutral2");return u(i,{get backgroundColor(){return r()},get header(){return"\u0417\u0430\u0434\u0430\u043D\u0438\u0435 \u2116"+(e.taskNumber+1)},get children(){return u(s,{flexDirection:"row",justifyContent:"end",width:"100%",alignItems:"center",get children(){return[t(()=>t(()=>e.task.state!="notStarted",!0)()&&u(a,{fontSize:"$lg",m:"auto",get children(){return E.makeString(e.task.record.duration)}})),u(d,{size:"sm",get disabled(){return!e.canInteract||e.task.state=="ended"},get onClick(){return e.toggleWorkState},get colorScheme(){return e.task.state=="notStarted"?"info":e.task.state=="started"?"danger":"success"},get children(){return e.task.state=="notStarted"?"\u041D\u0430\u0447\u0430\u0442\u044C":e.task.state=="started"?"\u0417\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C":"\u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u043E"}})]}})}})},M=e=>u(i,{canClose:!0,get onClose(){return e.onClose},backgroundColor:"$blackAlpha7",header:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",borderRadius:"$sm",get children(){return[u(a,{lineHeight:"1.1",color:"$neutral11",get children(){return["\u041D\u0430 \u044D\u0442\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0437\u0430\u0441\u0435\u043A\u0430\u0442\u044C \u0432\u0440\u0435\u043C\u044F \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u0437\u0430\u0434\u0430\u043D\u0438\u0439 \u043F\u043E \u0432\u0440\u0435\u0434\u043C\u0435\u0442\u0443",u(T,{colorScheme:"accent",get children(){return g.subject().name}}),". \u0420\u0435\u0448\u0430\u0439\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043D\u0442 \u0415\u0413\u042D \u0438 \u043E\u0442\u043C\u0435\u0447\u0430\u0439\u0442\u0435, \u043A\u043E\u0433\u0434\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0435\u0442\u0435 \u0438 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0435\u0442\u0435 \u0434\u0435\u043B\u0430\u0442\u044C \u043A\u0430\u0436\u0434\u043E\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435. \u041F\u043E\u0441\u043B\u0435 \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F \u0432\u0430\u043C \u0431\u0443\u0434\u0435\u0442 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u043E \u043E\u0442\u043C\u0435\u0442\u0438\u0442\u044C \u043A\u0430\u043A\u0438\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u044F \u0431\u044B\u043B\u0438 \u0440\u0435\u0448\u0435\u043D\u044B \u0432\u0435\u0440\u043D\u043E, \u0430 \u043A\u0430\u043A\u0438\u0435 \u043D\u0435\u0442. \u0417\u0430\u0442\u0435\u043C \u0434\u0430\u043D\u043D\u044B\u0435 \u0431\u0443\u0434\u0443\u0442 \u0437\u0430\u043F\u0438\u0441\u0430\u043D\u044B \u0432 \u0432\u0430\u0448\u0443 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0443 \u0438 \u0432\u044B \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u043E\u0442\u0441\u043B\u0435\u0434\u0438\u0442\u044C \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441."]}}),u(a,{fontSize:"$lg",textAlign:"center",my:"auto",color:"$primary10",children:"\u0423\u0434\u0430\u0447\u043D\u043E\u0439 \u043F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0438!"})]}}),N=e=>u(i,{backgroundColor:"$blackAlpha7",header:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F",borderRadius:"$sm",get children(){return u(m,{templateColumns:"auto 1fr 1fr",mt:"auto",gap:{"@initial":5,"@md":10},get children(){return[u(j,{get icon(){return u(y,{size:22})},"aria-label":"\u041F\u0430\u043D\u0435\u043B\u044C \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438",get onClick(){return e.info}}),u(P,{get restart(){return e.restart}}),u(d,{colorScheme:"success",get onClick(){return e.submit},get leftIcon(){return u(R,{size:22})},children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C"})]}})}}),q=()=>{const[e,r]=x(!0),l=z(),{isSubmited:h,currentTask:c,tasksData:C,taskAction:k,restart:S,submit:D}=H;return u(m,{margin:{"@initial":15,"@lg":"auto"},gap:{"@initial":5,"@md":10},pb:{"@initial":70,"@md":5},maxW:{"@initial":"$containerXl","@md":"$containerLg","@2xl":"$containerXl"},get templateColumns(){return`repeat(${l()>1536?3:l()>768?2:1}, 1fr)
            `},get children(){return[u(n,{colSpan:{"@initial":1,"@md":2,"@2xl":3},get children(){return u(v,{text:"\u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0439"})}}),t(()=>t(()=>!!e(),!0)()&&u(n,{rowSpan:2,get children(){return u(M,{onClose:r})}})),u(N,{restart:S,submit:D,info:r}),t(()=>t(()=>!!g.isSubjectSelected(),!0)()?u(w,{each:C,children:(f,o)=>u(n,{get children(){return u(G,{get canInteract(){return t(()=>!h(),!0)()&&(c()==o()||c()==-1)},get taskNumber(){return o()},task:f,toggleWorkState:()=>k(o())})}})}):u(n,{colSpan:{"@initial":1,"@md":2,"@2xl":3},get children(){return u(W,{})}}))]}})};export{q as default};
